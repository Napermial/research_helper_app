{% extends 'users/navbar.html' %}
{% block title %}{% endblock %}
{% block navbar %}{{ block.super }}{% endblock %}
{% block content %}
    <form>
        <script type = "text/javascript">$(function () {
            $('[data-toggle="popover"]').popover({sanitize: false})
        });
        function addFactor(){
            $("#FormSelectFactor1").append(new Option( $("#factorName").val() , "value")).selectpicker("refresh")
        }
        function changeNumberOfFactors(){
            let numberOfSelects = $("#factor_number").val()
            $(".root-for-factor").empty()
            for (let i = 0; i < numberOfSelects; i++){
                let nameOfFactor = "FormSelectFactor" + i
                let factor = '<div class="form-group"> <label for="'+ nameOfFactor + '"  >select factor</label> <select class="form-control" id="'+ nameOfFactor +'"> </select></div>'
                $(".root-for-factor").append(factor)
            }
        }
        </script>

        <div class="form-group">
            <label for="FormFactorNumber">Enter the number of factors</label>
            <input type="number" id="factor_number" onchange="changeNumberOfFactors()" value="1">
            <button type="button" class="btn btn-secondary" data-container="body" data-html="true" data-toggle="popover"
                    data-placement="right" data-content='<input type="factor" id="factorName" placeholder="add name to factor">
                    <button type="button" onclick="addFactor()" class="btn btn-light">Add</button>'>
                Add Factor
            </button>
        </div>
        <div class="root-for-factor">
        </div>


    </form>
{% endblock %}